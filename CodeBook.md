# Codebook for Getting and Cleaning Data Course Project

This codebook describes the variables, the data, and all transformations that are performed in the enclosed script `run_analysis.R` to clean up the original [Human Activity Recognition Using Smartphones Data Set](http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones).

## Description of the variables in the result (tidy) data

Two data sets are generated by the `run_analysis.R` script: The tidied up, combined data set from the original test- and train-data of the Human Activity Recognition Using Smartphones Data Set and a summary of the above data, containing the average of each variable per subject and activity.

### Variables contained in *complete_data.csv*

The following variables are contained in *complete_data.csv*:

1. `dataset_type` - either `test` or `train`, depending on where the data for this row comes from
2. `activity` - one of the six activities `walking`, `walking_upstairs`, `walking_downstairs`, `sitting`, `standing`, `laying`
3. `subject` - subject number
4. From this column on, there are the mean (identified by `mean` in their name) and standard deviation values (identified by `std` in their name) according to the original Human Activity Recognition data set

### Variables contained in *grouped_averages.csv*

1. `activity` - one of the six activities `walking`, `walking_upstairs`, `walking_downstairs`, `sitting`, `standing`, `laying`
2. `subject` - subject number
3. From this column on, there are the **averaged** mean (identified by `mean` in their name) and standard deviation values (identified by `std` in their name) **per activity-subject group** according to the original Human Activity Recognition data set

## Performed transformations to create the tidy data

1. The feature names are read from `features.txt` and cleaned (all lowercase, no special characters like parentheses or hyphens) as they will be used as column names
2. The activity names for each activity number are read from `activity_labels.txt` and transformed to lowercase strings
3. Then for the test data in the "test"-folder of the original data set, the sensor data, the following is done:
  1. The activity labels and the subjects are loaded from the separate files and joined together to form one data set
  2. The activity label numbers are replaced by the according activity names from the `activity_labels.txt` labels file
  3. A `dataset_type` column with the value "test" for each row is added
  4. The final data set for this type is formed by selecting only the `dataset_type`, `activity` and `subject` columns plus all columns with mean values and all columns with standard deviation values
4. The same as in point 3 is done with the train data, except that the `dataset_type` column is set to "train"
5. The tidied up train and test data are combined by binding their rows together (both data sets have the same layout); this data is saved as `complete_data.csv`
6. The above data set is grouped by activity and subject
7. A summary of this data is created by calculating the average of each variable per activity-subject group; the data is saved as `grouped_averages.csv`
